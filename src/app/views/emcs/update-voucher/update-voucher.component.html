<div class="row wrapper border-bottom white-bg page-heading animated fadeInRight">
  <div class="col-lg-8">
    <h2>{{'VoucherUpdate.TITLE' | translate}}</h2>
    <ol class="breadcrumb">
      <li>
        <a href="#">Home</a>
      </li>
      <li>
        <a>Lab Equipments</a>
      </li>
      <li class="active">
        <strong>{{'VoucherUpdate.TITLE' | translate}}</strong>
      </li>
    </ol>
  </div>
  <div class="col-lg-4">
    <div class="title-action">
      <!-- show log and history here -->
      <app-history-log [hidden]="engineApi.currentTask.id === null"></app-history-log>
      <a style="color: white; margin-right: 20px" href="invoice_print.html" target="_blank" class="btn btn-primary"><i
          class="fa fa-print"></i> Print </a>
    </div>
  </div>
</div>
<!-- CONTENT -->
<div class="wrapper wrapper-content">
  <div class="animated fadeInRight">
    <div class="row">
      <div class="col-lg-12">
        <div class="ibox float-e-margins">
          <div class="ibox-title">
            <div class="ibox-tools">
              <a class="collapse-link">
                <i class="fa fa-chevron-up"></i>
              </a>
              <a class="close-link">
                <i class="fa fa-times"></i>
              </a>
            </div>
            <!-- BLOCK OF INFORMATION -->
            <div class="ibox-content m-b-sm border-bottom">
              <div class="row">
                <div class="col-xs-4">
                  <div class="widget navy-bg p text-center">
                    <div class="m-b-md">
                      <img alt="image" class="img-circle" src="assets/img/Microscope-icon.png">
                      <h3 class="m-xs">{{choosenEntity.Name}}</h3>
                      <h4 class="font-bold no-margins">{{choosenEntity.AssetID}} </h4>
                    </div>
                  </div>
                </div>
                <div class="col-xs-8">
                  <div class="col-xs-6 mbr-col-md-6">
                    <div class="wrap">
                      <div class="ico-wrap">
                        <span class="mbr-iconfont fa fa-leanpub"></span>
                      </div>
                      <div class="text-wrap vcenter">
                        <h2 class="mbr-fonts-style mbr-bold mbr-section-title3 display-5">
                          {{'VoucherDetailComponent.Manual' | translate}}
                        </h2>
                        <p class="mbr-fonts-style text1 mbr-text display-6">
                          <a class="mbr-fonts-style text1 mbr-text display-6"
                            (click)="onGetFile(choosenEntity.ManualFile)"> Download {{choosenEntity.ManualFile}}
                            <br></a>
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-6 mbr-col-md-6">
                    <div class="wrap">
                      <div class="ico-wrap">
                        <span class="mbr-iconfont fa fa-sign-language"></span>
                      </div>
                      <div class="text-wrap vcenter">
                        <h2 class="mbr-fonts-style mbr-bold mbr-section-title3 display-5">
                          {{'VoucherDetailComponent.Method' | translate}}
                        </h2>
                        <p class="mbr-fonts-style text1 mbr-text display-6">
                          <a class="mbr-fonts-style text1 mbr-text display-6"
                            (click)="onGetFile(choosenEntity.MethodFile)">Download {{choosenEntity.MethodFile}}<br></a>
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-6 mbr-col-md-6">
                    <div class="wrap">
                      <div class="ico-wrap">
                        <span class="mbr-iconfont fa fa-cubes"></span>
                      </div>
                      <div class="text-wrap vcenter">
                        <h2 class="mbr-fonts-style mbr-bold mbr-section-title3 display-5">
                          {{'VoucherDetailComponent.Department' | translate}}
                        </h2>
                        <p class="mbr-fonts-style text1 mbr-text display-6">{{choosenEntity.Department}}</p>
                      </div>
                    </div>
                  </div>
                  <div class="col-xs-6 mbr-col-md-6">
                    <div class="wrap">
                      <div class="ico-wrap">
                        <span class="mbr-iconfont fa fa-code-fork"></span>
                      </div>
                      <div class="text-wrap vcenter">
                        <h2 class="mbr-fonts-style mbr-bold mbr-section-title3 display-5">
                          {{'VoucherDetailComponent.ProcessDepartment' | translate}}
                        </h2>
                        <p class="mbr-fonts-style text1 mbr-text display-6">{{choosenEntity.ProcessDepartment}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- HEADER INFORMATION -->
              <div class="form-horizontal ibox-content">
                <div class="col-xs-12">
                  <div style="background-color: #c7e1e8; height: 20px;">
                    <h4 style="color: black; text-align: left">{{'VoucherDetailComponent.VoucherInfo' | translate}}
                    </h4>
                  </div>
                  <table class="table table-bordered">
                    <tr>
                      <th>{{'VoucherDetailComponent.VoucherID' | translate}}</th>
                      <td>{{choosenEntity.VoucherID}}</td>
                      <th>{{'VoucherDetailComponent.Creator' | translate}}</th>
                      <td>{{choosenEntity.UserID}}</td>
                      <th>{{'VoucherDetailComponent.CreateTime' | translate}}</th>
                      <td>{{choosenEntity.CreateTime}}</td>
                    </tr>
                    <tr>
                      <th>{{'VoucherDetailComponent.MonthAdjust' | translate}}</th>
                      <td>{{choosenEntity.MonthAdjust}}</td>
                      <th>{{'VoucherDetailComponent.YearAdjust' | translate}}</th>
                      <td>{{choosenEntity.YearAdjust}}</td>
                      <th>Trạng Thái Đơn</th>
                      <td>{{'Status'+choosenEntity.State  | translate}}</td>
                    </tr>
                    <tr>
                      <th>{{'VoucherDetailComponent.Remark' | translate}}</th>
                      <td colspan="5">{{choosenEntity.Remark}}</td>
                    </tr>
                  </table>
                </div>
              </div>


              <div class="form-horizontal ibox-content">
                <div class="text-center">
                  <h3>UPDATE RESULT </h3>
                </div>
                <div class="col-sm-12">
                  <!-- TABLE OF RESULT FILE -->
                  <table class="table table-bordered table-responisve">
                    <thead>
                      <tr>
                        <th>{{'Upload.FileName' | translate}}</th>
                        <th>{{'Upload.Name' | translate}}</th>
                        <th>{{'VoucherComponent.Remark' | translate}}</th>
                        <th>{{'VoucherComponent.Temparature' | translate}}</th>
                        <th>{{'VoucherComponent.Humidity' | translate}}</th>
                        <th>{{'VoucherComponent.Passed' | translate}}</th>
                        <th>{{'Button.Action' | translate}}</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let item of choosenEntity.Profiles">
                      <tr>
                        <td style="text-align: left;text-overflow: ellipsis; width: 200px; overflow: hidden"> <a
                            (click)="onGetFile(item.FileResult)">{{item.FileResult}}</a></td>
                        <td style="text-align: left; text-overflow: ellipsis; width: 200px; overflow: hidden">
                          {{item.Name}}</td>
                        <td style="text-align: left">{{item.Remark}}</td>
                        <td style="text-align: left">{{item.Temparature}}</td>
                        <td style="text-align: left">{{item.Humidity}}</td>
                        <td style="text-align: left">{{item.Passed}}</td>
                        <td><button type="button" class="btn btn-outline btn-danger" (click)="fnDeleteProfile(item)"><i
                              class="fa fa-trash"></i></button></td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr>
                        <!-- FORM TO ADD RESULT -->
                        <td colspan="2">
                          <div class="fileinput fileinput-new" data-provides="fileinput">
                            <span class=" col-sm-12 btn btn-default btn-file"><span class="fileinput-new">Select
                                file</span>
                              <span class="fileinput-exists">Change</span>
                              <input required type="file" name="..." id="fileupload"
                                class="col-sm-12 btn btn-default btn-file"
                                (change)="handleFileInput($event.target.files)" /></span>
                            <span class="fileinput-filename" [ngClass]=" {'fileinput-new': file == null}"
                              style="text-overflow: ellipsis; width: 200px; overflow: hidden;white-space: nowrap;">
                            </span>
                            <a class="close fileinput-exists" data-dismiss="fileinput" style="float: none">×</a>
                          </div>
                        </td>
                        <td><textarea type="text" class="form-control" name="Remark1"
                            [(ngModel)]="Profile.Remark"></textarea> </td>
                        <td><input required type="number" class="form-control" name="Temparature"
                            [(ngModel)]="Profile.Temparature"> </td>
                        <td> <input required type="number" class="form-control" name="Humidity"
                            [(ngModel)]="Profile.Humidity"> </td>
                        <td>
                          <div class="i-checks"><label>
                              <input type="checkbox" value="true" class="form-control" name="Passed"
                                [(ngModel)]="Profile.Passed"> <i></i>
                              {{'Button.Yes' | translate}} </label></div>
                        </td>
                        <td><button type="button form-control" class="btn btn-outline btn-sm btn-primary"
                            (click)="fnaddDetail()"><i class="fa fa-plus"></i>
                            {{'Button.Add' | translate}}</button> </td>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>

              <div class="ibox ibox-footer">
                <div class="pull-right">
                  <div class="text-danger">{{'VoucherUpdate.SaveNotice' | translate}}
                    <button type="button" (click)="fnSave()" class="btn btn-info"><i class="fa fa-save"></i>
                      {{'Button.Save' | translate}}</button></div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
