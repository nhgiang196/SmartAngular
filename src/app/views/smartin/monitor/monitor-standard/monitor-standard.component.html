<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-sm-4">
      <h2>{{ 'MonitorStandard.Breadcrumb' | translate }}</h2>
      <ol class="breadcrumb">
        <li>
          <a href="index.html">{{ 'TopNav.Monitor' | translate }}</a>
        </li>
        <li class="active">
          <strong>{{ 'MonitorStandard.Breadcrumb' | translate }}</strong>
        </li>
      </ol>
    </div>
  </div>
  <div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
      <div class="col-lg-12">
        <div class="ibox float-e-margins">
          <div class="ibox-content"  [ngClass]=" {'sk-loading': iboxloading}">
            <div class="sk-spinner sk-spinner-wave">
              <div class="sk-rect1"></div>
              <div class="sk-rect2"></div>
              <div class="sk-rect3"></div>
              <div class="sk-rect4"></div>
              <div class="sk-rect5"></div>
            </div>
            <div class="row">
              <div class="col-sm-4">
                <!-- hidden this button -->
                <button type="button" class="btn btn-primary dim" data-toggle="modal"
                  (click) = "fnAdd()"
                  data-target="#myModal4" >
                  <i class="fa fa-plus"></i> {{'Button.Add' | translate}} </button>
              </div>
              <div class="col-sm-4">
              </div>
            </div>
            <div class="row">
              <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                class="table table-bordered table-hover table-striped" id="myTable2" style="width:100%">
                <thead>
                  <tr>
                    <th>{{ 'Master.data.OrderNo' | translate }}</th>
                    <th>{{ 'MonitorStandard.data.FactoryId' | translate }}</th>
                    <th>{{ 'MonitorStandard.data.ValidateDateFrom' | translate }}</th>
                    <th>{{ 'MonitorStandard.data.ValidateDateTo' | translate }}</th>
                    <th>{{ 'MonitorStandard.data.Temperature' | translate }}(<sup>o</sup>C)</th>
                    <th>{{ 'MonitorStandard.data.pH' | translate }}</th>
                    <th>{{ 'MonitorStandard.data.COD' | translate }}<sub>(mg/L)</sub></th>
                    <th>{{ 'MonitorStandard.data.TSS' | translate }}<sub>(mg/L)</sub></th>
                    <th>{{ 'MonitorStandard.data.Color' | translate }}<sub>(Pt-Co)</sub></th>
                    <th>{{ 'MonitorStandard.data.Amoni' | translate }}<sub>(mg/L)</sub></th>
                    <th>{{ 'MonitorStandard.data.MonitorStandardDesc' | translate }}</th>
                    <th style="text-align: left">Action</th>
                  </tr>
                </thead>
                <tbody *ngIf="monitors?.length != 0">
                  <tr *ngFor="let monitor of monitors, let i = index">
                    <td style="text-align: left"> {{ recordStart+i+1}}</td>
                    <td style="text-align: left"> {{monitor.FactoryName | uppercase}}</td>
                    <td style="text-align: left"> {{monitor.ValidateDateFrom | amDateFormat: "YYYY-MM-DD HH:mm"}}</td>
                    <td style="text-align: left"> {{monitor.ValidateDateTo | amDateFormat: "YYYY-MM-DD HH:mm"}}</td>
                    <td style="text-align: left"> {{monitor.TemperatureMin}}-{{monitor.TemperatureMax}}</td>
                    <td style="text-align: left"> {{monitor.pHMin}}-{{monitor.pHMax}}</td>
                    <td style="text-align: left"> {{monitor.CODMin}}-{{monitor.CODMax}}</td>
                    <td style="text-align: left"> {{monitor.TSSMin}}-{{monitor.TSSMax}}</td>
                    <td style="text-align: left"> {{monitor.ColorMin}}-{{monitor.ColorMax}}</td>
                    <td style="text-align: left"> {{monitor.AmoniMin}}-{{monitor.AmoniMax}}</td>
                    <td style="text-align: left"> {{monitor.MonitorStandardDesc}}</td>
                    <td>
                      <button type="button" class="btn btn-outline btn-danger"  (click)="fnDelete(monitor.MonitorStandardId)"><i
                          class="fa fa-trash"></i></button>
                      <button type="button" class="btn btn-outline btn-success" (click)="fnUpdate(monitor)"
                       data-toggle="modal" data-target="#myModal4"><i class="fa fa-pencil"></i></button>
                    </td>
                  </tr>
                </tbody>

                <tbody *ngIf="monitors?.length == 0">
                  <tr>
                    <td colspan="20" class="no-data-available">{{'DefaultTable.zeroRecords'  | translate}}</td>
                  </tr>
                <tbody>
              </table>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
<!-- Modal -->
<div class="modal inmodal" id="myModal4" data-backdrop="static" data-keyboard="true" tabindex="-1" role="dialog"
  aria-hidden="true">
  <div class="modal-dialog modal-lg ">
    <div class="modal-content animated fadeIn">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" (click)="tableRender()">
          <span
            aria-hidden="true">&times;</span><span class="sr-only">Close</span>
          </button>
        <h4 class="modal-title">{{ 'MonitorStandard.label.Information' | translate }}</h4>
      </div>
      <div class="modal-body">
        <form role="form" #myForm="ngForm" name="myForm">
          <div class="row">
            <div class="col-lg-4">
              <div class="form-group" >
                <label>{{ 'MonitorStandard.data.FactoryId' | translate }}* :</label>
                <ng-select [items]="initCombobox.Factories" bindLabel="FactoryName" bindValue="FactoryId" [(ngModel)]="entity.FactoryId"
                    class="custom" placeholder="{{ 'MonitorStandard.placeholder.FactoryId' | translate }}" name="FactoryId"
                    required></ng-select>
              </div>
            </div>
              <div class="col-lg-8">
                <div class="form-group">
                  <div class="row">
                    <div class="col-lg-6">
                      <label> {{ 'MonitorStandard.data.ValidateDate' | translate }}* : {{ 'MonitorStandard.data.From' | translate }} </label>
                    </div>
                    <div class="col-lg-6">
                      <label> {{ 'MonitorStandard.data.To' | translate }} </label>
                    </div>
                  </div>

                <div class="row">
                <div class="col-lg-6">
                  <input
                    type="text"
                    name="ValidateDateFrom"
                    id="ValidateDateFrom"
                    class="form-control"
                    bsDatepicker
                    readonly
                    [bsConfig]="bsConfig"
                    placeholder="{{ 'MonitorStandard.placeholder.ValidateDateFrom' | translate }}"
                    [(ngModel)]= "entity.ValidateDateFrom"
                    (ngModelChange)="reSetExistName()"
                    [ngClass]="{ 'is-invalid': existName }"
                    required
                />
                </div>
                <div class="col-lg-6">
                  <input
                    type="text"
                    name="ValidateDateTo"
                    id="ValidateDateTo"
                    class="form-control"
                    bsDatepicker
                    readonly
                    [bsConfig]="bsConfig"
                    placeholder="{{ 'MonitorStandard.placeholder.ValidateDateTo' | translate }}"
                    [(ngModel)]= "entity.ValidateDateTo"
                    (ngModelChange)="reSetExistName()"
                    [ngClass]="{ 'is-invalid': existName }"
                    required
                />
                </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12">
              <div class="form-group">
                <label>{{ 'MonitorStandard.data.MonitorStandardDesc' | translate }}</label>
                <textarea
                  type="text"
                  name="MonitorStandardDesc"
                  id="MonitorStandardDesc"
                  class="form-control"
                  placeholder="{{ 'MonitorStandard.placeholder.MonitorStandardDesc' | translate }}"
                  rows="2"
                  [(ngModel)]= "entity.MonitorStandardDesc"
                ></textarea>
              </div>
              </div>
          </div>
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.Temperature' | translate }}(<sup>o</sup>C) : {{ 'MonitorStandard.data.From' | translate }} </label></div>
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.To' | translate }} </label></div>
                </div>
                <div class="row">
                  <div class="col-lg-6"><input type="number" min="0" name="TemperatureMin" id="TemperatureMin" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.TemperatureMin =0:entity.TemperatureMin"
                    placeholder="0" [(ngModel)]="entity.TemperatureMin">
                  </div>
                  <div class="col-lg-6"><input type="number" min="0" name="TemperatureMax" id="TemperatureMax" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.TemperatureMax =0:entity.TemperatureMax"
                    placeholder="0"  [(ngModel)]="entity.TemperatureMax">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.pH' | translate }}(<sup>o</sup>C) : {{ 'MonitorStandard.data.From' | translate }} </label></div>
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.To' | translate }} </label></div>
                </div>
                <div class="row">
                  <div class="col-lg-6"><input type="number" min="0" name="PHmin" id="PHmin" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.PHmin =0:entity.PHmin"
                    placeholder="0" [(ngModel)]= "entity.PHmin">
                  </div>
                  <div class="col-lg-6"><input type="number" min="0" name="PHmax" id="PHmax" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.PHmax =0:entity.PHmax"
                    placeholder="0" [(ngModel)]= "entity.PHmax">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.COD' | translate }}<sub>(mg/L)</sub> : {{ 'MonitorStandard.data.From' | translate }} </label></div>
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.To' | translate }} </label></div>
                </div>
                <div class="row">
                  <div class="col-lg-6"><input type="number" min="0" name="Codmin" id="Codmin" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.Codmin =0:entity.Codmin"
                    placeholder="0" [(ngModel)]= "entity.Codmin">
                  </div>
                  <div class="col-lg-6"><input type="number" min="0" name="Codmax" id="Codmax" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.Codmax =0:entity.Codmax"
                    placeholder="0" [(ngModel)]= "entity.Codmax">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.TSS' | translate }}<sub>(mg/L)</sub> : {{ 'MonitorStandard.data.From' | translate }} </label></div>
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.To' | translate }} </label></div>
                </div>
                <div class="row">
                  <div class="col-lg-6"><input type="number" min="0" name="Tssmin" id="Tssmin" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.Tssmin =0:entity.Tssmin"
                    placeholder="0" [(ngModel)]= "entity.Tssmin">
                  </div>
                  <div class="col-lg-6"><input type="number" min="0" name="Tssmax" id="Tssmax" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.Tssmax =0:entity.Tssmax"
                    placeholder="0" [(ngModel)]= "entity.Tssmax">
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.Color' | translate }}<sub>(Pt-Co)</sub> : {{ 'MonitorStandard.data.From' | translate }} </label></div>
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.To' | translate }} </label></div>
                </div>
                <div class="row">
                  <div class="col-lg-6"><input type="number" min="0" name="ColorMin" id="ColorMin" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.ColorMin =0:entity.ColorMin"
                    placeholder="0" [(ngModel)]= "entity.ColorMin">
                  </div>
                  <div class="col-lg-6"><input type="number" min="0" name="ColorMax" id="ColorMax" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.ColorMax =0:entity.ColorMax"
                    placeholder="0" [(ngModel)]= "entity.ColorMax">
                  </div>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.Q' | translate }}<sub>(Pt-Co)</sub> : {{ 'MonitorStandard.data.From' | translate }} </label></div>
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.To' | translate }} </label></div>
                </div>
                <div class="row">
                  <div class="col-lg-6"><input type="number" min="0" name="Qmin" id="Qmin" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.Qmin =0:entity.Qmin"
                    placeholder="0" [(ngModel)]= "entity.Qmin">
                  </div>
                  <div class="col-lg-6"><input type="number" min="0" name="Qmax" id="Qmax" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.Qmax =0:entity.Qmax"
                    placeholder="0" [(ngModel)]= "entity.Qmax">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-6">
              <div class="form-group">
                <div class="row">
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.Amoni' | translate }}<sub>(mg/L)</sub> : {{ 'MonitorStandard.data.From' | translate }} </label></div>
                  <div class="col-lg-6"><label> {{ 'MonitorStandard.data.To' | translate }}  </label></div>
                </div>
                <div class="row">
                  <div class="col-lg-6"><input type="number" min="0" name="AmoniMin" id="AmoniMin" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.AmoniMin =0:entity.AmoniMin"
                    placeholder="0" [(ngModel)]= "entity.AmoniMin">
                  </div>
                  <div class="col-lg-6"><input type="number" min="0" name="AmoniMax" id="AmoniMax" class="form-control"
                    (change)="($event.target.value<0 ||$event.target.value=='' ) ?entity.AmoniMax =0:entity.AmoniMax"
                    placeholder="0" [(ngModel)]= "entity.AmoniMax">
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group" style="display: none;">
                  <div class="row">
                    <div class="col-lg-6"><label></label></div>
                    <div class="col-lg-6"><label></label></div>
                  </div>
                  <div class="row">
                    <div class="col-lg-6">
                    </div>
                    <div class="col-lg-6">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-white" data-dismiss="modal"
          (click)="tableRender()">{{'Button.Close' | translate}}</button>
        <button type="button" class="btn btn-primary" (click)="fnSave();" [ladda]="laddaSubmitLoading"
          [disabled]="myForm.invalid||EditRowID!=0">{{'Button.Save' | translate}}</button>
      </div>
    </div>
  </div>
